!function(a){"use strict";function e(e){a(".onoffswitch").addClass(e?"":"enabled").removeClass(e?"enabled":""),a(".onoff_cap").html(e?"OFF":"ON")}function n(e){a(".manualswitch").addClass(e?"":"enabled").removeClass(e?"enabled":""),e?(a(".bsdef_table").fadeOut(0),a(".man_table").fadeIn(0)):(a(".man_table").fadeOut(0),a(".bsdef_table").fadeIn(0)),a(".manual_cap").html(e?"Use Manual Settings":"Use Bootstrap Defaults")}var t={bs_lg:{pageWidth:1140,columns:12,gutter:30,topMargin:0,lineHeight:24},bs_md:{pageWidth:940,columns:12,gutter:30,topMargin:0,lineHeight:24},bs_sm:{pageWidth:720,columns:12,gutter:30,topMargin:0,lineHeight:24},bs_xs:{pageWidth:0,columns:12,gutter:30,topMargin:0,lineHeight:24},manual:{pageWidth:1140,columns:12,gutter:30,topMargin:0,lineHeight:24},disabled:0,usemanual:0};chrome.storage.sync.get(null,function(a){try{chrome.browserAction.setIcon({path:a.disabled>0?"icon-disabled.png":"icon.png"})}catch(e){chrome.browserAction.setIcon({path:"icon-disabled.png"})}}),a(window).load(function(){chrome.storage.sync.get(null,function(i){a.extend(!0,t,i),a(".onoffswitch").click(function(){var n=a(this).hasClass("enabled")?1:0;a("#disabled").val(n),e(n)}),a(".manualswitch").click(function(){var e=a(this).hasClass("enabled")?1:0;a("#manual").val(e),n(e)}),a("#page_width").val(t.manual.pageWidth),a("#columns").val(t.manual.columns),a("#gutter").val(t.manual.gutter),a("#top_margin").val(t.manual.topMargin),a("#line_height").val(t.manual.lineHeight),a("#lg_top_margin").val(t.bs_lg.topMargin),a("#lg_line_height").val(t.bs_lg.lineHeight),a("#md_top_margin").val(t.bs_md.topMargin),a("#md_line_height").val(t.bs_md.lineHeight),a("#sm_top_margin").val(t.bs_sm.topMargin),a("#sm_line_height").val(t.bs_sm.lineHeight),a("#xs_top_margin").val(t.bs_xs.topMargin),a("#xs_line_height").val(t.bs_xs.lineHeight),a("#disabled").val(t.disabled),a("#manual").val(t.usemanual),e(parseInt(t.disabled)),n(parseInt(t.usemanual))}),a("#submit").click(function(){chrome.browserAction.setIcon({path:parseInt(a("#disabled").val())>0?"icon-disabled.png":"icon.png"}),chrome.storage.sync.set({disabled:a("#disabled").val(),usemanual:a("#manual").val(),manual:{pageWidth:parseInt(a("#page_width").val()),columns:parseInt(a("#columns").val()),gutter:parseInt(a("#gutter").val()),topMargin:parseInt(a("#top_margin").val()),lineHeight:parseInt(a("#line_height").val())},bs_lg:{topMargin:parseInt(a("#lg_top_margin").val()),lineHeight:parseInt(a("#lg_line_height").val())},bs_md:{topMargin:parseInt(a("#md_top_margin").val()),lineHeight:parseInt(a("#md_line_height").val())},bs_sm:{topMargin:parseInt(a("#sm_top_margin").val()),lineHeight:parseInt(a("#sm_line_height").val())},bs_xs:{topMargin:parseInt(a("#xs_top_margin").val()),lineHeight:parseInt(a("#xs_line_height").val())}},function(){chrome.tabs.query({active:!0,currentWindow:!0},function(a){chrome.tabs.sendMessage(a[0].id,{identifier:"grid_builder_refresh"}),window.close()})})})})}(jQuery);