!function(e){"use strict";function a(a){e(".onoffswitch").addClass(a?"":"enabled").removeClass(a?"enabled":""),e(".onoff_cap").html(a?"OFF":"ON"),e("body, h1, .btn-container, .btn-container button, .switch").addClass(a?"greyed":"").removeClass(a?"":"greyed")}function n(a){e(".manualswitch").addClass(a?"":"enabled").removeClass(a?"enabled":""),a?(e(".bsdef_table").fadeOut(0),e(".man_table").fadeIn(0)):(e(".man_table").fadeOut(0),e(".bsdef_table").fadeIn(0)),e(".manual_cap").html(a?"Use Manual Settings":"Use Bootstrap Defaults")}var t={bs_lg:{pageWidth:1140,columns:12,gutter:30,topMargin:0,lineHeight:24},bs_md:{pageWidth:940,columns:12,gutter:30,topMargin:0,lineHeight:24},bs_sm:{pageWidth:720,columns:12,gutter:30,topMargin:0,lineHeight:24},bs_xs:{pageWidth:0,columns:12,gutter:30,topMargin:0,lineHeight:24},manual:{pageWidth:1140,columns:12,gutter:30,topMargin:0,lineHeight:24},disabled:0,usemanual:0};chrome.storage.sync.get(null,function(e){try{chrome.browserAction.setIcon({path:e.disabled>0?"icon-disabled.png":"icon.png"})}catch(a){chrome.browserAction.setIcon({path:"icon-disabled.png"})}}),e(window).load(function(){chrome.storage.sync.get(null,function(i){e.extend(!0,t,i),e(".onoffswitch").click(function(){var n=e(this).hasClass("enabled")?1:0;e("#disabled").val(n),a(n)}),e(".manualswitch").click(function(){var a=e(this).hasClass("enabled")?1:0;e("#manual").val(a),n(a)}),e("#page_width").val(t.manual.pageWidth),e("#columns").val(t.manual.columns),e("#gutter").val(t.manual.gutter),e("#top_margin").val(t.manual.topMargin),e("#line_height").val(t.manual.lineHeight),e("#lg_top_margin").val(t.bs_lg.topMargin),e("#lg_line_height").val(t.bs_lg.lineHeight),e("#md_top_margin").val(t.bs_md.topMargin),e("#md_line_height").val(t.bs_md.lineHeight),e("#sm_top_margin").val(t.bs_sm.topMargin),e("#sm_line_height").val(t.bs_sm.lineHeight),e("#xs_top_margin").val(t.bs_xs.topMargin),e("#xs_line_height").val(t.bs_xs.lineHeight),e("#disabled").val(t.disabled),e("#manual").val(t.usemanual),a(parseInt(t.disabled)),n(parseInt(t.usemanual))}),e("input").keypress(function(a){a=a||event,13==a.keyCode&&(a.preventDefault(),e("#submit").trigger("click"))}),e("#submit").click(function(){chrome.browserAction.setIcon({path:parseInt(e("#disabled").val())>0?"icon-disabled.png":"icon.png"}),chrome.storage.sync.set({disabled:e("#disabled").val(),usemanual:e("#manual").val(),manual:{pageWidth:parseInt(e("#page_width").val()),columns:parseInt(e("#columns").val()),gutter:parseInt(e("#gutter").val()),topMargin:parseInt(e("#top_margin").val()),lineHeight:parseInt(e("#line_height").val())},bs_lg:{topMargin:parseInt(e("#lg_top_margin").val()),lineHeight:parseInt(e("#lg_line_height").val())},bs_md:{topMargin:parseInt(e("#md_top_margin").val()),lineHeight:parseInt(e("#md_line_height").val())},bs_sm:{topMargin:parseInt(e("#sm_top_margin").val()),lineHeight:parseInt(e("#sm_line_height").val())},bs_xs:{topMargin:parseInt(e("#xs_top_margin").val()),lineHeight:parseInt(e("#xs_line_height").val())}},function(){chrome.tabs.query({active:!0,currentWindow:!0},function(e){chrome.tabs.sendMessage(e[0].id,{identifier:"grid_builder_refresh"}),window.close()})})})})}(jQuery);